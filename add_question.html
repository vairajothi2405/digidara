<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Question</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='add_question.css') }}">
</head>
<body>

<div class="form-container">
    <h1 class="form-title">ADD NEW QUESTION</h1>

    <!-- Error message -->
    {% if error %}
        <p class="alert error" id="alert-message">{{ error }}</p>
    {% endif %}

    <!-- Success message -->
    {% if success %}
        <p class="success-msg" id="successMsg">{{ success }}</p>
    {% endif %}

    <form method="POST">
        <!-- Category -->
        <label for="category">Category</label>
        <select name="category" id="category" required>
            <option value="">--Select Category--</option>
            {% for cat in categories %}
            <option value="{{ cat.name }}">{{ cat.name }}</option>
            {% endfor %}
        </select>

        <!-- Age Group -->
        <label>Age Group</label>
        <select name="age_group" required> 
            <option value="">--Select Age Group</option>
            <option value="Under 10">Under 10</option>
            <option value="10-15">10-15</option>
            <option value="16-24">16-24</option>
            <option value="25+">25+</option>
        </select>
        

        <!-- Question -->
        <label for="question">Question</label>
        <textarea name="question" id="question" placeholder="Enter the question" required></textarea>

        <!-- Options -->
        <label for="option1">Option 1</label>
        <input type="text" name="option1" id="option1" required>

        <label for="option2">Option 2</label>
        <input type="text" name="option2" id="option2" required>

        <label for="option3">Option 3</label>
        <input type="text" name="option3" id="option3" required>

        <label for="option4">Option 4</label>
        <input type="text" name="option4" id="option4" required>

        <!-- Correct Option -->
        <label for="correct">Correct Option</label>
        <input type="text" name="correct" id="correct" placeholder="Enter correct option text" required>

        <button type="submit">Add Question</button>
    </form>
</div>

<script>
    // ðŸ”” Auto-hide alert messages (error / success)
    setTimeout(() => {
        const alertBox = document.getElementById("alert-message") || document.getElementById("successMsg");
        if (alertBox) {
            alertBox.style.transition = "opacity 0.5s ease";
            alertBox.style.opacity = "0";
            setTimeout(() => alertBox.remove(), 500); // 0.5s wait â†’ remove from DOM
        }
    }, 2500); // 2.5 seconds after page load
</script>

</body>
</html>